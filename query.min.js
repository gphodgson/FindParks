function populateList(e){list=document.getElementById("parkList"),list.innerHTML="";for(const i of e){var t=document.createElement("li"),n=document.createElement("div"),o=document.createElement("header"),a=document.createElement("p"),d=document.createElement("p"),r=document.createElement("a");parkName=document.createTextNode(i.park_name),parkAddress=document.createTextNode("Location: "+i.location_description),parkArea=document.createTextNode("Total Area (hectares): "+Math.round(100*i.area_in_hectares)/100),parkLink=document.createTextNode("Find on Google Maps..."),longitude=i.location.longitude,latitude=i.location.latitude,o.appendChild(parkName),o.setAttribute("class","parkName"),a.appendChild(parkAddress),a.setAttribute("class","parkAddress"),d.appendChild(parkArea),d.setAttribute("class","parkArea"),r.appendChild(parkLink),r.setAttribute("class","parkLink"),r.setAttribute("href","https://www.google.com/maps/search/?api=1&query="+latitude+"+,"+longitude),n.appendChild(o),n.appendChild(a),n.appendChild(d),n.appendChild(r),n.setAttribute("class","park"),t.appendChild(n),list.appendChild(t)}}function populateNeighbourhood(e){const t=document.querySelector("select#neighbourhood");var n=document.createElement("option");n.text="Please Select a Neighbourhood...",n.value=-1,t.appendChild(n);let o=[];for(const t of e)o.includes(t.neighbourhood)||o.push(t.neighbourhood);for(const e of o){n=document.createElement("option");n.text=e,n.value=e,t.appendChild(n)}}function listParks(e){fetch("https://data.winnipeg.ca/resource/tx3d-pfxq.json?neighbourhood="+e+"&$order=park_name ASC").then(function(e){return e.json()}).then(function(e){populateList(e)})}function listNeighbourhoods(){fetch("https://data.winnipeg.ca/resource/tx3d-pfxq.json?$order=neighbourhood ASC&$limit=2000").then(function(e){return e.json()}).then(function(e){populateNeighbourhood(e)})}function bindEventListeners(){listNeighbourhoods();const e=document.querySelector("select#neighbourhood");e.addEventListener("change",()=>{const t=e.selectedIndex,n=e.options[t].value;-1!==n&&listParks(n)})}document.addEventListener("DOMContentLoaded",bindEventListeners);